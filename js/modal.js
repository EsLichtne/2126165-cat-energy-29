import"../vendor/pristine/pristine.min.js";const modal=document.querySelector(".modal"),modalButton=document.querySelector(".modal__button"),form=document.querySelector(".modal__form"),orderButtons=document.querySelectorAll(".order-button"),message=document.querySelector("#popup-message").content.querySelector(".popup-message").cloneNode(!0),pristine=new Pristine(form,{classTo:"modal__field-wrapper",errorClass:"modal__field-wrapper--error",errorTextParent:"modal__field-wrapper",errorTextClass:"modal__error"});orderButtons.forEach((e=>{e.addEventListener("click",(()=>{modal.classList.remove("hidden")}))}));const clearForm=()=>{form.count.value=""},hideModal=()=>{modal.classList.add("hidden"),form.count.value="",pristine.reset(),document.body.append(message)},onDocumentKeydown=e=>{e.key.startsWith("Esc")&&(hideModal(),message.remove())},onModalClick=e=>{e.preventDefault(),(pristine.validate()&&e.target===modalButton||pristine.validate()&&e.target===modal)&&(hideModal(),document.body.append(message),setTimeout((()=>{message.remove()}),1500)),e.target===modal&&(hideModal(),message.remove())},renderOrder=()=>{modal.addEventListener("click",onModalClick),document.addEventListener("keydown",onDocumentKeydown)};export{renderOrder};